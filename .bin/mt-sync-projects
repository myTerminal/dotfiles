#!/usr/bin/env bash

if [[ $# -lt 1 ]]; then
    echo "Usage: mt-sync-projects <directory>"
    exit 1
fi

count=0
projects=`ls -A $1`

echo "Found $(ls -A $1 | wc -l) projects."

cd $1

for i in $projects;
do
    if [ -d $i ]
    then
        cd $i
        echo ""
        echo + $i
        git pull
        ((count++))
        cd ..;
    fi
done

echo ""
echo "Done updating" $count "projects."
echo ""
